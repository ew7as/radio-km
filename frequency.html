<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><title>Частотомер на PIC16F628А.</title>

<meta name="keywords" content="основная плата, трансивер, аматор,эмф,SA612" />
<meta name="description" content="В предлагаемой основной плате однодиапазонного трансивера использованы микросхемы импортного производства SA612." />
<link href="templatemo_style.css" rel="stylesheet" type="text/css" />
<link rel="stylesheet" type="text/css" href="tabcontent.css" />
<script type="text/javascript" src="tabcontent.js">
/***********************************************
* Tab Content script v2.2- © Dynamic Drive DHTML code library (www.dynamicdrive.com)
* This notice MUST stay intact for legal use
* Visit Dynamic Drive at http://www.dynamicdrive.com/ for full source code
***********************************************/
</script>
</head>
<body style="direction: ltr;">
<div id="templatemo_wrapper">
<div id="templatemo_container">
<div id="templatemo_menu">
<div id="pettabs" class="indentmenu">
<ul>
<li><a href="index.html" rel="tab1">Главная</a></li>
<li><a href="klim.html" rel="tab2">О своём
городе</a></li>
<li><a href="ant.html" rel="tab3">Антенны</a></li>
<li><a href="sh_w.html" rel="tab4" class="selected">Радиосвязь
на КВ</a></li>
<li><a href="vhf.html" rel="tab5">Радиосвязь
на УКВ</a></li>
<li><a href="http://xbase.ru/?145500fm" rel="tab6" style="border-right: medium none;">Гостевая</a></li>
</ul>
</div>
<div class="tabcontentstyle">
<div id="tab1" class="tabcontent">&nbsp;</div>
<div id="tab2" class="tabcontent">
<ul>
<li><a href="klim.html">О своём городе</a></li>
</ul>
</div>
<div id="tab3" class="tabcontent">
<ul>
<li><a href="http://ra6foo.qrz.ru/">УКВ антенны
VHF и UHF. Сайт RA6FOO</a></li>
</ul>
</div>
<div id="tab4" class="tabcontent">
<ul>
<li><a href="http://radio-km.tut.su/opisanie.html">Краткое
описание любительских КВ-диапазонов.</a></li>
<li><a href="http://ua6hjq.qrz.ru/ft857/index.htm">Трансивер
YAESU FT-857D</a></li>
</ul>
</div>
<div id="tab5" class="tabcontent">
<ul>
<li><a href="http://goryham.qrz.ru/techn/gm-160.htm">УКВ
радиостанция Motorola GM-160.</a></li>
<li><a href="http://www.433175.ru/index.php?newsid=924">Motorola
GM360. Настройка через программу CPS версии R03.09.03.</a></li>
<li><a href="http://dl2kq.de/trx/2-17.htm">Тест
радиостанции Baofeng UV-5R.</a></li>
<li><a href="http://dl2kq.de/trx/2-18.htm">Улучшение
модуляции в Baofeng UV-5R.</a></li>
</ul>
</div>
<div id="tab6" class="tabcontent">
<ul>
<li><a href="http://xbase.ru/?145500fm">Гостевая</a></li>
</ul>
</div>
</div>
</div>
<!-- end of mneu -->
<div id="templatemo_banner">
<h1>Сайт радиолюбителей</h1>
<p>города Климовичи.</p>
</div>
<div id="templatemo_content">
<div id="content_top"></div>
<div class="templatemo_content_section_01">
<p>&nbsp;</p>
<h2 style="text-align: center;">Частотомер
- цифровая шкала.</h2>
<p>&nbsp;</p>
<p>При работе на любительской радиостанции перед радиолюбителем
часто встает необходимость точно знать частоту, на которую настроен его
трансивер или приёмник для того, чтобы не уйти за пределы диапазона или
для точной настройки на заранее оговоренную частоту. Механические шкалы
не дают такой возможности, поэтому приходится конструировать
электронные шкалы. В настоящее время разработано большое количество
электронных шкал и частотомеров, при разработке которых используются
микросхемы разной степени интеграции. Зачастую это сложные устройства,
насчитывающие несколько десятков микросхем. Эти конструкции довольно
сложны для повторения из-за того, что в сложной схеме гораздо выше
возможность допустить ошибку на всех этапах – от публикации до монтажа.</p>
<p>&nbsp;</p>
<p>Принципиальную схему частотомера можно предельно упростить,
если построить ее на базе процессора PIC16F84 фирмы Microchip
(http://www.microchip.com/). Этот процессор обладает высоким
быстродействием, широкими функциональными возможностями. Встроенное
энергонезависимое запоминающее устройство позволяет записывать и
оперативно изменять величину промежуточной частоты цифровой шкалы.</p>
<p><br />
Один
из таких несложных наборов длясамостоятельной сборки я недорого
приобрёл на сайте китайского
магазина здесь: <a href="http://buyeasy.by/cashback/view/pmv74u9uy48w1ftg4232vuqyy0ccix1v/?to=https%3A%2F%2Fru.aliexpress.com%2Fitem%2F1Hz-50MHz-cymometer-Frequency-Meter-Counter-High-Sensitivity-frequency-counter-Measurement-Tester-Module-7V-9V-50mA%2F32717906277.html%3Fspm%3D2114.13010708.0.0.4c6033edc0ge6Q">Electronic
DIY Club.</a></p>
<p>В набор входят печатные платы и радиодетали, на страничке
продавца можно скачать документацию по сборке частотомера, самой схемы
частотомера нет. На печатной плате нанесены обозначения радиодеталей,
их номиналы и марка, поэтому собрать частотомер можно, даже не
заглядывая в документацию.<br />
<br />
В основу данного набора положена схема, предложенная немецким
радиолюбителем <a href="https://www.qsl.net/dl4yhf/freq_counter/freq_counter.html">Wolfgang
"Wolf" Büscher, DL4YHF</a><br />
На его сайте находится более подробное описание этой конструкции, также
можно скачать прошивку для PIC16F84.
</p>
<img style="border: 0px solid ; width: 482px; height: 412px;" alt="Частотомер" src="ezm-1.jpg" hspace="12" vspace="12" />
<p>&nbsp;</p>
<p>
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
Прибор работает в режиме частотомера или цифровой шкалы
приёмника или
трансивера.<br />
Максимальный диапазон измерения до 50 МГц. Индикация пятиразрядная с
автоматическим выбором предела измерения. Выбор предела измерения
сопровождается
перемещением десятичной запятой. Индикация может быть как в
«МГц» так и в
«кГц». При индикации в «кГц»
децимальная запятая мигает, при индикации в «МГц»
- горит постоянно.</p>
<p>&nbsp;</p>
<p>В
режиме цифровой шкалы прибор
может измерить значение промежуточной частоты, например, по измерению
частоты
опорного генератора SSB-формирователя или SSB-демодулятора. Затем это
значение
запоминается и может либо вычитаться из результата измерения частоты
генератора
плавного диапазона, либо складываться с ним. При работе с приёмником
прямого
преобразования - режим работы как у простого частотомера.</p>
<p>&nbsp;</p>
<a href="F_50MHz.jpg"><img style="border: 0px solid ; width: 700px; height: 542px;" alt="Схема частотомера" src="f_meter.jpg" hspace="12" vspace="12" /></a><br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />

<p><strong>Рис.1 Принципиальная схема частотомера</strong></p>
<p>&nbsp;</p>
<p>В качестве принципиальной можно использовать схему, показанную
на рис 1. Это не схема китайского частотомера, но может дать
представление о работе устройства.<br />
<br />
Входной сигнал поступает на предварительный усилитель на&nbsp;T2
и&nbsp;T3.
Полевой
транзистор&nbsp;T2 дает большое входное сопротивление, поэтому
частоту
можно
подавать даже с колебательного контура генератора, - влияние
минимально. Каскад
на&nbsp;T3 даёт усиление по напряжению. Усилитель требует
налаживания, -
нужно
чтобы напряжение на коллекторе&nbsp;T3 было равно 2,5V. Его
выставляют
подбором
сопротивления R12. При работе в качестве лабораторного частотомера
нужно
на
входе поставить дополнительный диодный ограничитель.</p>
<p>&nbsp;</p>
<p>Прибор
сделан на основе
микроконтроллера PIC16F628. Индикация осуществляется на пятиразрядном
дисплее
из двух двухцифровых и одного одноцифрового семисегментных светодиодных
индикаторов с общим
катодом.
Индикация динамическая. Семисегментные коды с портов RB поступают на
соединённые
вместе сегментные выводы пяти индикаторов. Динамический опрос
осуществляется с
четырёх портов RA0-RA3. Из-за недостатка портов дополнительный вывод на
пятый
индикатор образован при помощи транзистора&nbsp;T1, резистора R10 и
диодов&nbsp;D1-D4 ,
логика работы такова, что когда ни на одном из выходов&nbsp;
RA0-RA3 не будет
лог.0, , то есть, тогда, когда на всех портах RA0-RA3 есть логические
единицы
будет работать 5 индикатор.<br />
Порт RA4 настроен как вход. Входом является и
порт&nbsp;&nbsp;RA5, но это вход
управления.</p>
<p>Там
подключена кнопка «Prog», при
помощи которой осуществляется ввод частоты, которую нужно вычитать или
складывать с результатом измерения. При работе чисто как частотомер эту
кнопку
можно исключить.</p>
<p>&nbsp;</p>
<p><strong>
Настройка
цифровой шкалы</strong></p>
<p>&nbsp;</p>
<p>При
работе в качестве цифровой
шкалы требуется ввод значения ПЧ, на которую нужно делать поправку.
Сначала
нужно нажать кнопку «Prog» и удерживать её до тех пор, пока не появится
на
дисплее
«PROG». Затем отпустить кнопку. Управление меню
осуществляется быстрыми
(перемещение по меню) и продолжительными (выбор) нажатиями этой кнопки.<br />
Есть несколько разделов меню: </p>
<p>«QUIT»
- при его выборе прибор выходит из меню без изменений.<br />
«ADD»&nbsp;&nbsp; - сохранение измеренной
частоты на сложение.<br />
«SUB»&nbsp;&nbsp;&nbsp;- сохранение
измеренной частоты на вычитание.<br />
«ZERO»&nbsp; -&nbsp; сброс&nbsp;
частоты,&nbsp;&nbsp; прибор&nbsp;&nbsp; будет
показывать частоту без коррекции на ПЧ.<o:p></o:p></p>
<p>«TABLE»&nbsp;&nbsp;-&nbsp;в
этой таблице можно
выбрать&nbsp;основные запрограммированные частоты 455 кГц; 3,9990
МГц; 4,1943
МГц; 4,4336 МГц; 10,700 Гц. После выбора записи (длительное нажатие),
вы
вернетесь в «Главное меню» и выберите пункт
«ADD»
— «добавить»
или «SUB»
— «убавить».
</p>
<p>«PSave" / "NoPSV »&nbsp;&nbsp;
-&nbsp;включает/отключает
режим энергосбережения.<br />
В режим энергосбережения дисплей
отключается через 15 секунд если нет изменения частоты некоторое время.<br />
<br />
<br />
</p>
<img style="width: 576px; height: 459px;" alt="Надписи на индикаторе" src="f_indikator.jpg" hspace="12" vspace="12" /><br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<p>И
так, чтобы сделать коррекцию на
ПЧ нужно сначала измерить эту ПЧ. То есть, подаете на вход прибора
именно такую
частоту, например, с опорного генератора или может быть с лабораторного
генератора, на котором нужно установить частоту равную частоте ПЧ
конкретного
аппарата, в котором шкала будет работать.<br />
Затем, нажимаете S1 продолжительно пока не появится
«PROG». Далее короткими
нажатиями переходите&nbsp;&nbsp; на&nbsp;&nbsp;
«ADD»&nbsp;&nbsp; если
данную&nbsp; частоту нужно прибавлять или на
«SUB» если данную частоту нужно
вычитывать. Длинным нажатием подтверждаете свой выбор. Вот и всё.
Теперь прибор
при измерении будет делать поправку на ПЧ, которую вы задали.<br />
Индикаторы можно применить любые, которые имеются в наличии. Нужны
светодиодные
семисегментные цифровые индикаторы с общим катодом. Резисторы R7-R14
необходимо
подобрать по требуемой яркости индикаторов.
</p>
<p>&nbsp;</p>
<p>Диапазон
автоматического переключения измерения индикатора.
</p>
<p>&nbsp;</p>
<p>Таблица 1.</p>
<table class="MsoNormalTable" border="1" cellpadding="0" cellspacing="0" width="100%">
<tbody>
<tr style="">
<td valign="top" width="25%">
<p><strong>Частотный
диапазон</strong></p>
</td>
<td valign="top" width="20%">
<p><strong>Отображение</strong></p>
</td>
<td valign="top">
<p><strong>Время
счета </strong></p>
</td>
<td valign="top" width="38%">
<p><strong>Десятичная
запятая</strong></p>
</td>
</tr>
<tr style="">
<td valign="top" width="25%">
<p>0
... 9.999 кГц </p>
</td>
<td valign="top" width="20%">
<p>X.XXX</p>
</td>
<td valign="top">
<p>1
сек</p>
</td>
<td valign="top" width="38%">
<p>мигает
(что означает "кГц")</p>
</td>
</tr>
<tr style="">
<td valign="top" width="25%">
<p>10
... 99.999 кГц</p>
</td>
<td valign="top" width="20%">
<p>XX.XXX</p>
</td>
<td valign="top">
<p>1/2
сек</p>
</td>
<td valign="top" width="38%">
<p>мигает</p>
</td>
</tr>
<tr style="">
<td valign="top" width="25%">
<p>100
... 999.99 кГц</p>
</td>
<td valign="top" width="20%">
<p>XXX.XX</p>
</td>
<td valign="top">
<p>1/4
сек</p>
</td>
<td valign="top" width="38%">
<p>мигает</p>
</td>
</tr>
<tr style="">
<td valign="top" width="25%">
<p>1
... 9.9999 МГц</p>
</td>
<td valign="top" width="20%">
<p>X.XXXX</p>
</td>
<td valign="top">
<p>1/4
сек</p>
</td>
<td valign="top" width="38%">
<p>горит
постоянно (что означает "МГц"),</p>
</td>
</tr>
<tr style="">
<td valign="top" width="25%">
<p>10
... 50.000 МГц</p>
</td>
<td valign="top" width="20%">
<p>XX.XXX</p>
</td>
<td valign="top">
<p>1/4 сек</p>
</td>
<td valign="top" width="38%">
<p>горит
постоянно</p>
</td>
</tr>
</tbody>
</table>
<p style="text-align: justify; line-height: 16.8pt;"><span style="font-size: 10pt; font-family: &quot;Arial&quot;,&quot;sans-serif&quot;; color: rgb(69, 68, 68);" lang="EN-US"><o:p>&nbsp;</o:p></span></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p>Владимир, EW7AS</p>
<p>&nbsp;</p>
<p>&nbsp;</p>
</div>
</div>
<div id="templatemo_footer">
<p><a href="index.html">Главная</a> | <a href="klim.html">О своём городе</a>
| <a href="ant.html">Антенны</a> | <a href="sh_w.html">Радиосвязь на КВ</a>
| <a href="vhf.html">Радиосвязь на УКВ</a>
| <a href="http://xbase.ru/?145500fm">Гостевая</a>
</p>

<p>Copyright © 2019 <a href="index.html"><strong>Сайт
радиолюбителей г. Климовичи</strong></a> | Design studio
«Zurbagan»</p>
<p>
<!-- Yandex.Metrika counter -->
<script type="text/javascript">
(function (d, w, c) {
(w[c] = w[c] || []).push(function() {
try {
w.yaCounter48674144 = new Ya.Metrika({
id:48674144,
clickmap:true,
trackLinks:true,
accurateTrackBounce:true
});
} catch(e) { }
});
var n = d.getElementsByTagName("script")[0],
s = d.createElement("script"),
f = function () { n.parentNode.insertBefore(s, n); };
s.type = "text/javascript";
s.async = true;
s.src = "https://mc.yandex.ru/metrika/watch.js";
if (w.opera == "[object Opera]") {
d.addEventListener("DOMContentLoaded", f, false);
} else { f(); }
})(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img
src="https://mc.yandex.ru/watch/48674144" style="position:absolute;
left:-9999px;" alt="" /></div></noscript>
<!-- /Yandex.Metrika counter --><!-- Rating@Mail.ru logo -->
<a href="https://top.mail.ru/jump?from=3027468"><img src="//top-fwz1.mail.ru/counter?id=3027468;t=479;l=1" style="border: 0pt none ;" alt="Рейтинг@Mail.ru" height="31" width="88" /></a><!-- //Rating@Mail.ru logo --><a href="http://www.tit.by" title="www.tit.by"><img src="http://www.tit.by/count.php?id=24789" alt="Счетчик посещений сайта" border="0" height="31" width="88" /></a> </p>
<div id="counter-section" style="height: 31px; display: none; width: 88px;"> <a href="http://www.titby.com">titby.com</a>
<script language="javascript">top_js="1.0";top_r="id=24789&r="+escape(document.referrer)+"&pg="+escape(window.location.href); document.cookie="tit_top=1; path=/"; top_r+="&c="+(document.cookie?"Y":"N")</script>
<script language="javascript1.1">top_js="1.1";top_r+="&j="+(navigator.javaEnabled()?"Y":"N")</script>
<script language="javascript1.2">top_js="1.2";top_r+="&wh="+screen.width+'x'+screen.height+"&px="+ (((navigator.appName.substring(0,3)=="Mic"))?screen.colorDepth:screen.pixelDepth)</script>
<script language="javascript1.3">top_js="1.3";</script>
<script language="JavaScript">top_r+="&js="+top_js+"&type_new=1";document.write('<img src="http://www.tit.by/cnt.php?'+top_r+'" width="0" height="0" border="0">')</script></div>
<!-- end of footer -->
</div>
</div>
</div>
</body></html>